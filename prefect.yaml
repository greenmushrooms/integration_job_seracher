name: job-search-project
prefect-version: 3.0.0
build: null
push: null
pull:
  - prefect.deployments.steps.git_clone:
      id: clone-step
      repository: https://github.com/greenmushrooms/integration_job_seracher.git
      branch: main
  - prefect.deployments.steps.run_shell_script:
      script: |
        cd integration_job_seracher
        echo "Current directory: $(pwd)"
        ls -la
        pip install -e .
      stream_output: true
deployments:
  - name: job-search-deployment
    version: 1.0.0
    tags: ["jobs", "etl"]
    description: Job search and processing flow
    entrypoint: main.py:get_jobs
    parameters:
      title: "data engineer"
      location: "Toronto, ON"
      profile: "Slava"
      searches: 60
    schedule:
      cron: "0 7 * * *"
      timezone: "America/Toronto"
    work_pool:
      name: dev-pool
      work_queue_name: default
